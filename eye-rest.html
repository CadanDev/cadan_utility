<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Descanso de Olhos - Sistema de Lembretes</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.css" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">
</head>
<body>
    <!-- Navbar ser√° carregada aqui -->

    <div class="page-container">
        <div class="page-header">
            <h1><i class="bi bi-eye"></i> Descanso de Olhos</h1>
            <p>Regra 20-20-20: A cada 20 minutos, olhe para algo a 20 p√©s (6 metros) de dist√¢ncia por 20 segundos.</p>
        </div>

        <div class="content-wrapper">
            <div class="card">
                <div class="card-header">
                    <h2>Timer Principal</h2>
                    <div class="btn-group">
                        <button id="testSoundBtn" class="btn btn-icon" onclick="playSound()" title="Testar som">
                            <i class="bi bi-volume-up"></i>
                        </button>
                        <button id="testNotificationBtn" class="btn btn-icon" 
                            onclick="sendNotification('üß™ Teste', 'Notifica√ß√£o de teste!', {tag: 'test'})" 
                            title="Testar notifica√ß√£o">
                            <i class="bi bi-bell"></i>
                        </button>
                    </div>
                </div>
                
                <div class="card-body">
                    <div class="timer-display">
                        <div class="progress-ring">
                            <svg width="200" height="200">
                                <circle cx="100" cy="100" r="90" class="progress-ring-circle" id="progressCircle"></circle>
                            </svg>
                            <div class="timer-text" id="timerText">20:00</div>
                        </div>
                    </div>

                    <div class="progress-bar-container">
                        <div id="progressBar" class="progress-bar" style="width: 0%"></div>
                    </div>

                    <div class="timer-controls">
                        <button id="startBtn" class="btn btn-primary btn-lg" onclick="startEyeRestTimer()" style="display: none;">
                            <i class="bi bi-play-circle"></i> Iniciar Timer de 20 minutos
                        </button>
                        <button id="start20secBtn" class="btn btn-success btn-lg" onclick="start20SecTimer()">
                            <i class="bi bi-eye"></i> Descansar Olhos (20 seg)
                        </button>
                        <button id="pauseBtn" class="btn btn-warning" onclick="pauseTimer()">
                            <i class="bi bi-pause-circle"></i> Pausar
                        </button>
                        <button id="stopBtn" class="btn btn-danger" onclick="stopTimer(); startEyeRestTimer();">
                            <i class="bi bi-arrow-clockwise"></i> Reiniciar
                        </button>
                    </div>

                    <div id="status" class="status-message"></div>
                </div>
            </div>

            <div class="info-cards">
                <div class="info-card">
                    <i class="bi bi-clock-history"></i>
                    <h3>Por que 20 minutos?</h3>
                    <p>Ap√≥s 20 minutos de trabalho focado, seus olhos come√ßam a cansar.</p>
                </div>
                <div class="info-card">
                    <i class="bi bi-arrow-left-right"></i>
                    <h3>Por que 20 p√©s (6 metros)?</h3>
                    <p>Essa dist√¢ncia ajuda a relaxar os m√∫sculos dos olhos.</p>
                </div>
                <div class="info-card">
                    <i class="bi bi-hourglass-split"></i>
                    <h3>Por que 20 segundos?</h3>
                    <p>Tempo suficiente para seus olhos se ajustarem e descansarem.</p>
                </div>
            </div>
        </div>
    </div>

    <script src="js/navbar.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/eyeRestTimer.js"></script>
    <script>
        // Iniciar automaticamente o timer quando a p√°gina carregar
        document.addEventListener('DOMContentLoaded', () => {
            // Aguardar um pouco para garantir que tudo foi carregado
            setTimeout(() => {
                startEyeRestTimer();
            }, 500);
        });
    </script>
</body>
</html>
