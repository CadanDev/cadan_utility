// ===================================
// VARIÁVEIS GLOBAIS
// ===================================

// Cores
$primary-color: #007bff;
$primary-hover: #0056b3;
$success-color: #28a745;
$success-light: #d4edda;
$danger-color: #dc3545;

$border-color: #dee2e6;
$text-primary: #212529;
$text-secondary: #6c757d;
$text-muted: #495057;

$bg-light: #f8f9fa;
$bg-lighter: #e9ecef;
$bg-white: white;

// Espaçamentos
$spacing-xs: 0.125rem;
$spacing-sm: 0.25rem;
$spacing-md: 0.375rem;
$spacing-lg: 0.5rem;
$spacing-xl: 0.75rem;
$spacing-2xl: 1rem;
$spacing-3xl: 2rem;

// Tamanhos de fonte
$font-xs: 0.625rem;
$font-sm: 0.75rem;
$font-md: 0.875rem;
$font-base: 1rem;

// Breakpoints
$mobile-max: 768px;

// ===================================
// MIXINS
// ===================================

@mixin flex-center {
	display: flex;
	align-items: center;
	justify-content: center;
}

@mixin flex-column-start {
	display: flex;
	flex-direction: column;
	justify-content: flex-start;
	align-items: center;
}

@mixin transition($property: all, $duration: 0.2s) {
	transition: $property $duration;
}

@mixin border-radius($radius: 0.375rem) {
	border-radius: $radius;
}

@mixin mobile {
	@media (max-width: $mobile-max) {
		@content;
	}
}

// ===================================
// TIMER DE DESCANSO VISUAL
// ===================================

#start20secBtn {
	display: none;
}

// ===================================
// SEÇÃO DE LEMBRETES DE REMÉDIOS
// ===================================

.medicine-section {
	margin-top: $spacing-3xl;
	border-top: 2px solid $border-color;
	padding-top: $spacing-3xl;
}

.reminder-item {
	border: 1px solid $border-color;
}

// ===================================
// CALENDÁRIO
// ===================================

.calendar-section {
	padding-top: $spacing-3xl;
}

.calendar-grid {
	display: grid;
	grid-template-columns: repeat(7, 1fr);
	gap: 1px;
	background-color: $border-color;
	border: 1px solid $border-color;
	@include border-radius;
	overflow: hidden;
}

.calendar-day-header {
	background-color: $text-secondary;
	color: $bg-white;
	padding: $spacing-lg;
	text-align: center;
	font-weight: bold;
	font-size: $font-md;
}

.calendar-day {
	position: relative;
	background-color: $bg-white;
	padding: $spacing-xl $spacing-lg;
	text-align: center;
	cursor: pointer;
	min-height: 3rem;
	@include flex-column-start;
	@include transition(background-color);

	&:hover {
		background-color: $bg-light;
	}

	&.current-month {
		color: $text-primary;
	}

	&.other-month {
		color: $text-secondary;
		background-color: $bg-light;
	}

	&.today {
		background-color: $primary-color;
		color: $bg-white;
		font-weight: bold;

		&:hover {
			background-color: $primary-hover;
		}

		.event-indicator {
			background-color: $bg-white;
			color: $primary-color;
		}
	}

	&.has-events {
		background-color: $success-light;
		border: 2px solid $success-color;

		&.today {
			background-color: $primary-color;
			border: 2px solid $bg-white;
		}
	}

	// Responsividade mobile
	@include mobile {
		padding: $spacing-lg $spacing-sm;
		min-height: 2.5rem;
		font-size: $font-md;
	}
}

.event-indicator {
	position: absolute;
	top: -5px;
	right: -2.4px;
	background-color: $success-color;
	color: $bg-white;
	@include border-radius(0.75rem);
	padding: $spacing-xs $spacing-md;
	@include flex-center;
	font-size: $font-xs;
	font-weight: bold;
	margin-top: $spacing-sm;
	gap: $spacing-xs;

	@include mobile {
		width: $spacing-2xl;
		height: $spacing-2xl;
		font-size: $font-xs;
	}
}

.event-item {
	border: 1px solid $border-color;
}

.calendar-navigation {
	h3 {
		color: $text-muted;
	}
}

// ===================================
// EVENTOS FUTUROS
// ===================================

.upcoming-events-list {
	max-height: 600px;
	overflow-y: auto;

	@include mobile {
		max-height: 400px;
	}
}

.upcoming-event-item {
	background-color: $bg-light;
	@include transition(background-color);

	&:hover {
		background-color: $bg-lighter;
	}

	.btn-outline-danger {
		&:hover {
			background-color: $danger-color;
			border-color: $danger-color;
			color: $bg-white;
		}
	}

	@include mobile {
		padding: $spacing-2xl !important;

		.btn-sm {
			padding: $spacing-sm $spacing-lg;
		}
	}
}

// ===================================
// BOTÃO DE TESTE DE SOM
// ===================================
#testSoundBtn {
	opacity: 0.7;
	transition: all 0.2s ease;
	border: 1px solid transparent;

	&:hover {
		opacity: 1;
		transform: scale(1.1);
		border-color: $border-color;
	}

	&:active {
		transform: scale(0.95);
	}

	i {
		font-size: 0.9rem;
	}
}

// ===================================
// NOTAS TEMPORÁRIAS
// ===================================

#notesEditor {
	min-height: 400px;
	background: $bg-white;
	@include border-radius();

	.ql-container {
		font-family: inherit;
		font-size: $font-base;
		min-height: 400px;
	}

	.ql-editor {
		min-height: 400px;
		
		&::-webkit-scrollbar {
			width: 8px;
		}

		&::-webkit-scrollbar-track {
			background: $bg-lighter;
		}

		&::-webkit-scrollbar-thumb {
			background: $text-secondary;
			@include border-radius(4px);

			&:hover {
				background: $text-primary;
			}
		}
	}

	.ql-toolbar {
		border-top-left-radius: 0.375rem;
		border-top-right-radius: 0.375rem;
		background: $bg-lighter;
	}
}

#notesSavedIndicator {
	font-size: $font-sm;
	margin-top: $spacing-lg;
	transition: color 0.3s ease;
}

// Layout responsivo para as colunas
@include mobile {
	#mainContent {
		.col-lg-7,
		.col-lg-5 {
			margin-bottom: $spacing-2xl;
		}
	}
}